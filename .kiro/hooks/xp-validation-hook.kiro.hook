{
  "enabled": true,
  "name": "XP System Validation Hook",
  "description": "Automatically runs XP calculation tests when the XP system module is modified to ensure gamification logic integrity",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "verifast_app/xp_system.py"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "XP system file modified. Please validate XP logic:\n\n1. **Check Test Files**: Verify test_xp_system.py and test_xp_economics.py exist\n2. **Run XP Tests**: Execute `python manage.py test verifast_app.test_xp_system` if file exists\n3. **Run Economics Tests**: Execute `python manage.py test verifast_app.test_xp_economics` if file exists\n4. **Fallback Validation**: If test files missing, manually verify XP calculation logic in xp_system.py\n\nEnsure XP transactions, balance calculations, and economic constraints remain correct."
  }
}